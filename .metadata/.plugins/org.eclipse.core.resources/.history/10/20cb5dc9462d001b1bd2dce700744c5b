package com;

import java.util.*;
import java.util.Map.Entry;

public class CacheClass {
	public static void main(String args[]) {
		int num = 3;
		int jPointer = 0;
		int j = 0;
		String queries = "SET 1 2 SET 2 3 SET 1 5 SET 4 5 SET 6 7 GET 4 GET 1";
		String[] strArr = queries.split(" ");
		
		System.out.print(strArr.length);
		
		List<Integer> key = new ArrayList<>();

		Map<Integer, Integer> setMap = new HashMap<Integer, Integer>();

		for (int i = 0; i < strArr.length; i++) {
			if (strArr[i].equals("SET")) {
				if (jPointer == num) {
					Map.Entry<Integer, Integer> entry = setMap.entrySet().iterator().next();
					setMap.remove(entry.getKey());
					setMap.remove(entry.getValue());
					jPointer = 0;
				}

				setMap.put(Integer.parseInt(strArr[i + 1]), Integer.parseInt(strArr[i + 2]));
				jPointer++;

			} else if (strArr[i].equals("GET")) {
				key.add(Integer.parseInt(strArr[i + 1]));
			}
		}
		
		for (Entry m : setMap.entrySet()) {
			if(!setMap.containsKey(key.get(j))) {
				System.out.print("-1 ");
			}
			if((int) m.getKey() == key.get(j)) {
				System.out.print(m.getValue() + " ");
			}
			j++;
		}

	}
}
